2025-12-24 00:27:01.568 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:27:01.636 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:27:06.719 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:27:06.740 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:29:49.519 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:29:49.545 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:30:17.631 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:30:17.646 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:30:21.454 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:30:21.467 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:44:50.699 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:44:50.713 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:47:45.831 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:47:45.855 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:47:53.420 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:47:53.437 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:48:00.609 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:48:00.625 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:48:14.622 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:48:14.640 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:49:52.276 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:49:52.343 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:50:10.215 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:50:10.231 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:50:47.194 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:50:47.207 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:51:49.681 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:51:49.692 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:52:08.558 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:52:08.574 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:52:17.871 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 00:52:17.887 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 07:21:31.174 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 07:21:31.461 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 08:36:50.977 +00:00 [INF] üöÄ Starting AssetManagement API... (User: , Inst: )
2025-12-24 08:36:51.232 +00:00 [INF] Subscription background service started at "2025-12-24T08:36:51.2315701Z" (User: , Inst: )
2025-12-24 08:36:53.936 +00:00 [INF] Subscription & Maintenance Background Service started. (User: , Inst: )
2025-12-24 08:36:54.710 +00:00 [INF] Subscription check completed at "2025-12-24T08:36:54.7106689Z" (User: , Inst: )
2025-12-24 08:36:55.063 +00:00 [INF] Updated depreciation for asset Practical Wooden Bike: current value ¬§4,260.71 (User: , Inst: )
2025-12-24 08:36:55.069 +00:00 [INF] Updated depreciation for asset 23423423: current value ¬§7,870.00 (User: , Inst: )
2025-12-24 08:36:55.073 +00:00 [INF] Updated depreciation for asset Hello string Asset: current value ¬§23,000.00 (User: , Inst: )
2025-12-24 08:36:55.119 +00:00 [INF] [Redis] Published message to channel: notifications (User: , Inst: )
2025-12-24 08:36:55.205 +00:00 [ERR] Error processing asset "019b262c-023b-71ce-a8e7-62041917edd1" (User: , Inst: )
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at MimeKit.MailboxAddress..ctor(Encoding encoding, String name, String address)
   at MimeKit.MailboxAddress..ctor(String name, String address)
   at AssetManagement.API.DAL.Services.EmailService.EmailService.SendEmailAsync(String to, String subject, String htmlBody) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\EmailService\EmailService.cs:line 13
   at AssetManagement.API.DAL.Services.NotificationService.NotificationService.SendMaintenanceDueAsync(AssetsModel assetsModel) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\NotificationService\NotificationService.cs:line 92
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionMaintenanceService.HandleAssetMaintenance(IAssetRepository assetRepo, INotificationService notificationService, IDepreciationService depreciationService) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionMaintenanceService.cs:line 79
2025-12-24 08:36:55.208 +00:00 [INF] Updated depreciation for asset Fantastic Plastic Ball: current value ¬§3,501.17 (User: , Inst: )
2025-12-24 08:36:55.211 +00:00 [INF] Updated depreciation for asset Awesome Steel Pants --update: current value ¬§2,539.76 (User: , Inst: )
2025-12-24 08:36:58.658 +00:00 [WRN] Failed to determine the https port for redirect. (User: anonymous, Inst: none)
2025-12-24 08:45:35.554 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 08:45:35.725 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 08:45:48.480 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 08:45:48.500 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 08:46:37.393 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 08:46:37.408 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 09:25:18.769 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 09:25:18.786 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 10:03:37.943 +00:00 [INF] üí§ Application shutting down... (User: , Inst: )
2025-12-24 10:54:52.080 +00:00 [INF] üöÄ Starting AssetManagement API... (User: , Inst: )
2025-12-24 10:54:52.280 +00:00 [INF] Subscription background service started at "2025-12-24T10:54:52.2789505Z" (User: , Inst: )
2025-12-24 10:54:54.748 +00:00 [INF] Subscription & Maintenance Background Service started. (User: , Inst: )
2025-12-24 10:54:55.424 +00:00 [INF] Subscription check completed at "2025-12-24T10:54:55.4243597Z" (User: , Inst: )
2025-12-24 10:54:55.748 +00:00 [INF] Updated depreciation for asset Practical Wooden Bike: current value ¬§4,260.71 (User: , Inst: )
2025-12-24 10:54:55.760 +00:00 [INF] Updated depreciation for asset 23423423: current value ¬§7,870.00 (User: , Inst: )
2025-12-24 10:54:55.763 +00:00 [INF] Updated depreciation for asset Hello string Asset: current value ¬§23,000.00 (User: , Inst: )
2025-12-24 10:54:55.839 +00:00 [INF] [Redis] Published message to channel: notifications (User: , Inst: )
2025-12-24 10:54:55.909 +00:00 [ERR] Error processing asset "019b262c-023b-71ce-a8e7-62041917edd1" (User: , Inst: )
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at MimeKit.MailboxAddress..ctor(Encoding encoding, String name, String address)
   at MimeKit.MailboxAddress..ctor(String name, String address)
   at AssetManagement.API.DAL.Services.EmailService.EmailService.SendEmailAsync(String to, String subject, String htmlBody) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\EmailService\EmailService.cs:line 13
   at AssetManagement.API.DAL.Services.NotificationService.NotificationService.SendMaintenanceDueAsync(AssetsModel assetsModel) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\NotificationService\NotificationService.cs:line 92
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionMaintenanceService.HandleAssetMaintenance(IAssetRepository assetRepo, INotificationService notificationService, IDepreciationService depreciationService) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionMaintenanceService.cs:line 79
2025-12-24 10:54:55.912 +00:00 [INF] Updated depreciation for asset Fantastic Plastic Ball: current value ¬§3,501.17 (User: , Inst: )
2025-12-24 10:54:55.915 +00:00 [INF] Updated depreciation for asset Awesome Steel Pants --update: current value ¬§2,539.76 (User: , Inst: )
2025-12-24 10:55:21.281 +00:00 [INF] üí§ Application shutting down... (User: , Inst: )
2025-12-24 10:55:24.986 +00:00 [INF] üöÄ Starting AssetManagement API... (User: , Inst: )
2025-12-24 10:55:25.127 +00:00 [INF] Subscription background service started at "2025-12-24T10:55:25.1258172Z" (User: , Inst: )
2025-12-24 10:55:25.176 +00:00 [ERR] Error occurred during subscription check (User: , Inst: )
System.Exception: ASSET_MGMT_DATABASE_CONNECTION_STRING missing
   at AssetManagement.API.Helpers.ReturnHelpers.Env(String recQuery) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\Helpers\ReturnEnv.cs:line 7
   at AssetManagement.API.Extentions.ProgramExtention.AddDbContextExtensionCollection.<>c.<AddDbContext>b__0_0(DbContextOptionsBuilder options) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\Extentions\ProgramExtention\AddDbContextExtensionCollection.cs:line 23
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass1_0`2.<AddDbContext>b__0(IServiceProvider _, DbContextOptionsBuilder b)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.DbContextOptionsConfiguration`1.Configure(IServiceProvider serviceProvider, DbContextOptionsBuilder optionsBuilder)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.CreateDbContextOptions[TContext](IServiceProvider applicationServiceProvider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionBackgroundService.cs:line 17
2025-12-24 10:55:25.177 +00:00 [INF] Subscription & Maintenance Background Service started. (User: , Inst: )
2025-12-24 10:55:25.188 +00:00 [ERR] Hosting failed to start (User: , Inst: )
System.Exception: ASSET_MGMT_DATABASE_CONNECTION_STRING missing
   at AssetManagement.API.Helpers.ReturnHelpers.Env(String recQuery) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\Helpers\ReturnEnv.cs:line 7
   at AssetManagement.API.Extentions.ProgramExtention.AddDbContextExtensionCollection.<>c.<AddDbContext>b__0_0(DbContextOptionsBuilder options) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\Extentions\ProgramExtention\AddDbContextExtensionCollection.cs:line 23
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass1_0`2.<AddDbContext>b__0(IServiceProvider _, DbContextOptionsBuilder b)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.DbContextOptionsConfiguration`1.Configure(IServiceProvider serviceProvider, DbContextOptionsBuilder optionsBuilder)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.CreateDbContextOptions[TContext](IServiceProvider applicationServiceProvider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionMaintenanceService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionMaintenanceService.cs:line 19
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
2025-12-24 10:55:25.192 +00:00 [ERR] BackgroundService failed (User: , Inst: )
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionBackgroundService.cs:line 28
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2025-12-24 10:55:25.192 +00:00 [FTL] The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted. (User: , Inst: )
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionBackgroundService.cs:line 28
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2025-12-24 10:55:25.195 +00:00 [FTL] ‚ùå Application startup failed! (User: , Inst: )
System.Exception: ASSET_MGMT_DATABASE_CONNECTION_STRING missing
   at AssetManagement.API.Helpers.ReturnHelpers.Env(String recQuery) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\Helpers\ReturnEnv.cs:line 7
   at AssetManagement.API.Extentions.ProgramExtention.AddDbContextExtensionCollection.<>c.<AddDbContext>b__0_0(DbContextOptionsBuilder options) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\Extentions\ProgramExtention\AddDbContextExtensionCollection.cs:line 23
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass1_0`2.<AddDbContext>b__0(IServiceProvider _, DbContextOptionsBuilder b)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.DbContextOptionsConfiguration`1.Configure(IServiceProvider serviceProvider, DbContextOptionsBuilder optionsBuilder)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.CreateDbContextOptions[TContext](IServiceProvider applicationServiceProvider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionMaintenanceService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionMaintenanceService.cs:line 19
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at AssetManagement.API.Extentions.ProgramExtention.AppServiceExtentionCollection.AppBuilderAddUsings(WebApplicationBuilder builder) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\Extentions\ProgramExtention\AppServiceExtentionCollection.cs:line 34
2025-12-24 10:55:25.195 +00:00 [INF] üí§ Application shutting down... (User: , Inst: )
2025-12-24 10:55:44.277 +00:00 [INF] üöÄ Starting AssetManagement API... (User: , Inst: )
2025-12-24 10:55:44.500 +00:00 [INF] Subscription background service started at "2025-12-24T10:55:44.4990258Z" (User: , Inst: )
2025-12-24 10:55:46.475 +00:00 [INF] Subscription & Maintenance Background Service started. (User: , Inst: )
2025-12-24 10:55:47.001 +00:00 [INF] Subscription check completed at "2025-12-24T10:55:47.0011659Z" (User: , Inst: )
2025-12-24 10:55:47.365 +00:00 [INF] Updated depreciation for asset Practical Wooden Bike: current value ¬§4,260.71 (User: , Inst: )
2025-12-24 10:55:47.370 +00:00 [INF] Updated depreciation for asset 23423423: current value ¬§7,870.00 (User: , Inst: )
2025-12-24 10:55:47.372 +00:00 [INF] Updated depreciation for asset Hello string Asset: current value ¬§23,000.00 (User: , Inst: )
2025-12-24 10:55:47.417 +00:00 [INF] [Redis] Published message to channel: notifications (User: , Inst: )
2025-12-24 10:55:47.467 +00:00 [ERR] Error processing asset "019b262c-023b-71ce-a8e7-62041917edd1" (User: , Inst: )
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at MimeKit.MailboxAddress..ctor(Encoding encoding, String name, String address)
   at MimeKit.MailboxAddress..ctor(String name, String address)
   at AssetManagement.API.DAL.Services.EmailService.EmailService.SendEmailAsync(String to, String subject, String htmlBody) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\EmailService\EmailService.cs:line 13
   at AssetManagement.API.DAL.Services.NotificationService.NotificationService.SendMaintenanceDueAsync(AssetsModel assetsModel) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\NotificationService\NotificationService.cs:line 92
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionMaintenanceService.HandleAssetMaintenance(IAssetRepository assetRepo, INotificationService notificationService, IDepreciationService depreciationService) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionMaintenanceService.cs:line 79
2025-12-24 10:55:47.469 +00:00 [INF] Updated depreciation for asset Fantastic Plastic Ball: current value ¬§3,501.17 (User: , Inst: )
2025-12-24 10:55:47.471 +00:00 [INF] Updated depreciation for asset Awesome Steel Pants --update: current value ¬§2,539.76 (User: , Inst: )
2025-12-24 10:56:50.600 +00:00 [WRN] Failed to determine the https port for redirect. (User: anonymous, Inst: none)
2025-12-24 10:56:50.819 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 10:56:51.053 +00:00 [INF] Querying InstitutionsModel service (User: anonymous, Inst: none)
2025-12-24 11:01:06.931 +00:00 [INF] üí§ Application shutting down... (User: , Inst: )
2025-12-24 11:03:52.206 +00:00 [INF] üöÄ Starting AssetManagement API... (User: , Inst: )
2025-12-24 11:03:52.339 +00:00 [INF] Subscription background service started at "2025-12-24T11:03:52.3379673Z" (User: , Inst: )
2025-12-24 11:03:54.342 +00:00 [INF] Subscription & Maintenance Background Service started. (User: , Inst: )
2025-12-24 11:03:54.884 +00:00 [INF] Subscription check completed at "2025-12-24T11:03:54.8844773Z" (User: , Inst: )
2025-12-24 11:03:55.126 +00:00 [INF] Updated depreciation for asset Practical Wooden Bike: current value ¬§4,260.71 (User: , Inst: )
2025-12-24 11:03:55.131 +00:00 [INF] Updated depreciation for asset 23423423: current value ¬§7,870.00 (User: , Inst: )
2025-12-24 11:03:55.133 +00:00 [INF] Updated depreciation for asset Hello string Asset: current value ¬§23,000.00 (User: , Inst: )
2025-12-24 11:03:55.173 +00:00 [INF] [Redis] Published message to channel: notifications (User: , Inst: )
2025-12-24 11:03:55.227 +00:00 [ERR] Error processing asset "019b262c-023b-71ce-a8e7-62041917edd1" (User: , Inst: )
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at MimeKit.MailboxAddress..ctor(Encoding encoding, String name, String address)
   at MimeKit.MailboxAddress..ctor(String name, String address)
   at AssetManagement.API.DAL.Services.EmailService.EmailService.SendEmailAsync(String to, String subject, String htmlBody) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\EmailService\EmailService.cs:line 13
   at AssetManagement.API.DAL.Services.NotificationService.NotificationService.SendMaintenanceDueAsync(AssetsModel assetsModel) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\NotificationService\NotificationService.cs:line 92
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionMaintenanceService.HandleAssetMaintenance(IAssetRepository assetRepo, INotificationService notificationService, IDepreciationService depreciationService) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionMaintenanceService.cs:line 79
2025-12-24 11:03:55.230 +00:00 [INF] Updated depreciation for asset Fantastic Plastic Ball: current value ¬§3,501.17 (User: , Inst: )
2025-12-24 11:03:55.232 +00:00 [INF] Updated depreciation for asset Awesome Steel Pants --update: current value ¬§2,539.76 (User: , Inst: )
2025-12-24 11:04:41.175 +00:00 [INF] üí§ Application shutting down... (User: , Inst: )
2025-12-24 11:04:56.373 +00:00 [INF] üöÄ Starting AssetManagement API... (User: , Inst: )
2025-12-24 11:04:56.506 +00:00 [INF] Subscription background service started at "2025-12-24T11:04:56.5058015Z" (User: , Inst: )
2025-12-24 11:04:58.396 +00:00 [INF] Subscription & Maintenance Background Service started. (User: , Inst: )
2025-12-24 11:04:58.914 +00:00 [INF] Subscription check completed at "2025-12-24T11:04:58.9145928Z" (User: , Inst: )
2025-12-24 11:04:59.173 +00:00 [INF] Updated depreciation for asset Practical Wooden Bike: current value ¬§4,260.71 (User: , Inst: )
2025-12-24 11:04:59.179 +00:00 [INF] Updated depreciation for asset 23423423: current value ¬§7,870.00 (User: , Inst: )
2025-12-24 11:04:59.181 +00:00 [INF] Updated depreciation for asset Hello string Asset: current value ¬§23,000.00 (User: , Inst: )
2025-12-24 11:04:59.222 +00:00 [INF] [Redis] Published message to channel: notifications (User: , Inst: )
2025-12-24 11:04:59.284 +00:00 [ERR] Error processing asset "019b262c-023b-71ce-a8e7-62041917edd1" (User: , Inst: )
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at MimeKit.MailboxAddress..ctor(Encoding encoding, String name, String address)
   at MimeKit.MailboxAddress..ctor(String name, String address)
   at AssetManagement.API.DAL.Services.EmailService.EmailService.SendEmailAsync(String to, String subject, String htmlBody) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\EmailService\EmailService.cs:line 13
   at AssetManagement.API.DAL.Services.NotificationService.NotificationService.SendMaintenanceDueAsync(AssetsModel assetsModel) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\NotificationService\NotificationService.cs:line 92
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionMaintenanceService.HandleAssetMaintenance(IAssetRepository assetRepo, INotificationService notificationService, IDepreciationService depreciationService) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionMaintenanceService.cs:line 79
2025-12-24 11:04:59.287 +00:00 [INF] Updated depreciation for asset Fantastic Plastic Ball: current value ¬§3,501.17 (User: , Inst: )
2025-12-24 11:04:59.289 +00:00 [INF] Updated depreciation for asset Awesome Steel Pants --update: current value ¬§2,539.76 (User: , Inst: )
2025-12-24 11:05:42.411 +00:00 [INF] üí§ Application shutting down... (User: , Inst: )
2025-12-24 11:05:48.770 +00:00 [INF] üöÄ Starting AssetManagement API... (User: , Inst: )
2025-12-24 11:05:48.884 +00:00 [INF] Subscription background service started at "2025-12-24T11:05:48.8832269Z" (User: , Inst: )
2025-12-24 11:05:51.214 +00:00 [INF] Subscription & Maintenance Background Service started. (User: , Inst: )
2025-12-24 11:05:51.937 +00:00 [INF] Subscription check completed at "2025-12-24T11:05:51.9377254Z" (User: , Inst: )
2025-12-24 11:05:52.263 +00:00 [INF] Updated depreciation for asset Practical Wooden Bike: current value ¬§4,260.71 (User: , Inst: )
2025-12-24 11:05:52.269 +00:00 [INF] Updated depreciation for asset 23423423: current value ¬§7,870.00 (User: , Inst: )
2025-12-24 11:05:52.272 +00:00 [INF] Updated depreciation for asset Hello string Asset: current value ¬§23,000.00 (User: , Inst: )
2025-12-24 11:05:52.312 +00:00 [INF] [Redis] Published message to channel: notifications (User: , Inst: )
2025-12-24 11:05:52.369 +00:00 [ERR] Error processing asset "019b262c-023b-71ce-a8e7-62041917edd1" (User: , Inst: )
System.ArgumentNullException: Value cannot be null. (Parameter 'address')
   at MimeKit.MailboxAddress..ctor(Encoding encoding, String name, String address)
   at MimeKit.MailboxAddress..ctor(String name, String address)
   at AssetManagement.API.DAL.Services.EmailService.EmailService.SendEmailAsync(String to, String subject, String htmlBody) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\EmailService\EmailService.cs:line 13
   at AssetManagement.API.DAL.Services.NotificationService.NotificationService.SendMaintenanceDueAsync(AssetsModel assetsModel) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\NotificationService\NotificationService.cs:line 92
   at AssetManagement.API.DAL.Services.BackgroundServices.SubscriptionMaintenanceService.HandleAssetMaintenance(IAssetRepository assetRepo, INotificationService notificationService, IDepreciationService depreciationService) in C:\Users\sammi\PROJECTS\PERSONAL\JET_BRAINS\FAST_TRACK_SERVICES\Assets_Management\FrontEnd_and_BackEnd\assetmanagement_backend\AssetManagement.API\DAL\Services\BackgroundServices\SubscriptionMaintenanceService.cs:line 79
2025-12-24 11:05:52.371 +00:00 [INF] Updated depreciation for asset Fantastic Plastic Ball: current value ¬§3,501.17 (User: , Inst: )
2025-12-24 11:05:52.373 +00:00 [INF] Updated depreciation for asset Awesome Steel Pants --update: current value ¬§2,539.76 (User: , Inst: )
2025-12-24 11:05:54.473 +00:00 [INF] üí§ Application shutting down... (User: , Inst: )
